(()=>{var e={275:(e,t,r)=>{const n=r(884);e.exports=class{constructor(){this.carrier=n("carrier",5,[]),this.battleship=n("battleship",4,[]),this.cruiser=n("cruiser",3,[]),this.submarine=n("submarine",3,[]),this.destroyer=n("destroyer",2,[]),this.ships=[this.carrier,this.battleship,this.cruiser,this.submarine,this.destroyer],this.boardMatrix=this.#e()}get allSunk(){for(const e of this.ships)if(!1===e.isSunk())return!1;return!0}get allSunkComputer(){for(const e of this.boardMatrix)for(const t of e)if(1===t)return!1;return!0}#e(){let e=[];for(let t=0;t<10;t++)e.push([0,0,0,0,0,0,0,0,0,0]);return e}#t(e){switch(e){case 1:return"carrier";case 2:return"battleship";case 3:return"cruiser";case 4:return"submarine";case 5:return"destroyer";default:return}}placeShip(e,t,r,n){let o=this.ships[n].shipLength;for(;o>0;)"carrier"===this.ships[n].shipName?this.boardMatrix[e][t]=1:"battleship"===this.ships[n].shipName?this.boardMatrix[e][t]=2:"cruiser"===this.ships[n].shipName?this.boardMatrix[e][t]=3:"submarine"===this.ships[n].shipName?this.boardMatrix[e][t]=4:"destroyer"===this.ships[n].shipName&&(this.boardMatrix[e][t]=5),"x"===r&&t++,"y"===r&&e++,o--}_isLegalMove(e,t,r,n,o){if(void 0===e||void 0===t||void 0===r||void 0===n||e>=10||t>=10||t+r-1>=10||e+r-1>=10||void 0===o[e][t+r-1]||void 0===o[e+r-1][t])return!1;if("x"===n&&t+r<10){for(let n=t;n<t+r;n++)if(void 0===o[e][n]||0!==o[e][n])return!1}else if("y"===n&&e+r<10)for(let n=e;n<e+r;n++)if(void 0===o[n][t]||0!==o[n][t])return!1;return!(t+r>=10||e+r>=10)}placeShipsComputer(){for(let e=0;e<this.ships.length;e++){let t,r,n=["x","y"][Math.floor(2*Math.random())];do{t=Math.floor(11*Math.random()),r=Math.floor(11*Math.random())}while(!1===this._isLegalMove(t,r,this.ships[e].shipLength,n,this.boardMatrix));if("x"===n)for(let n=r;n<r+this.ships[e].shipLength;n++)this.boardMatrix[t][n]=1;else if("y"===n)for(let n=t;n<t+this.ships[e].shipLength;n++)this.boardMatrix[n][r]=1}}receiveAttack(e,t){if(console.log("We getting attacked :("),0===this.boardMatrix[e][t])this.boardMatrix[e][t]=6;else if(0!==this.boardMatrix[e][t]&&6!==this.boardMatrix[e][t]){let r=this.#t(this.boardMatrix[e][t]);const n=this.ships.findIndex((e=>e.shipName===r));this.ships[n].hit({row:e,column:t}),this.boardMatrix[e][t]=7}}}},62:(e,t,r)=>{r(884),r(275),e.exports=class{constructor(e){this.name=e,this.isMyTurn="computer"!==e}computerMove(e){if("computer"===this.name){let t,r;do{t=Math.floor(11*Math.random()),r=Math.floor(11*Math.random())}while(!1===this.#r(t,r,e.boardMatrix));e.receiveAttack(t,r)}}#r(e,t,r){if("computer"===this.name)return!(r[e][t]>=6)}}},884:e=>{e.exports=function(e,t,r=[],n=!1){return{shipName:(e=>e.toLowerCase())(e),shipLength:t,shipDamageSpots:r,shipHasSunk:n,hit:e=>{r.push(e)},isSunk:()=>r.length===t}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(884);var e=r(275),t=r.n(e),n=r(62),o=r.n(n);function i(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function a(e){let t=1,r=setInterval((function(){t<=.1&&(clearInterval(r),e.style.display="none"),e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")",t-=.1*t}),50)}function l(e){let t=1e-4,r=setInterval((function(){e.style.visibility="visible",t>=1&&clearInterval(r),e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")",t+=.1*t}),10)}function s(e){for(var t=[],r=0;r<e[0];++r)t.push(1==e.length?0:s(e.slice(1)));return t}function c(){let e=[],t=[];for(let r=0;r<localStorage.length;r++){let n=localStorage.key(r);"name"!==n&&(t=JSON.parse(localStorage.getItem(n)),e.push({name:n,row:t[0],column:t[1],axis:t[2]}))}return e}function d(){const e=document.querySelector("main"),t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("h1"),o=document.createElement("h1"),i=document.createElement("div"),a=document.createElement("div");t.className="grid1-container",r.className="grid2-container",i.className="grid",a.className="grid",n.textContent="FRIENDLY WATERS",o.textContent="ENEMY WATERS",e.appendChild(t),t.appendChild(n),t.appendChild(i),e.appendChild(r),r.appendChild(o),r.appendChild(a);for(let e=0;e<100;e++){const e=document.createElement("div");e.className="player-column",i.appendChild(e)}for(let e=0;e<100;e++){const e=document.createElement("div");e.className="computer-column",a.appendChild(e)}e.style.visibility="hidden",l(e),function(e){let t=[];for(let e=0;e<10;e++)t.push([0,0,0,0,0,0,0,0,0,0]);const r=document.querySelectorAll(".player-column");let n=Array.from(r),o=0;for(let e=0;e<10;e++)for(let r=0;r<10;r++)t[e][r]=n[o],o++;for(let r=0;r<e.length;r++){let n=u(e[r].name),o=e[r].row,i=e[r].column;if("X"===e[r].axis)for(let e=i;e<i+n;e++)t[o][e].style.backgroundColor="white";else if("Y"===e[r].axis)for(let e=o;e<o+n;e++)t[e][i].style.backgroundColor="white"}}(c())}function u(e){switch(e){case"CARRIER":return 5;case"BATTLESHIP":return 4;case"CRUISER":case"SUBMARINE":return 3;case"DESTROYER":return 2;default:return"huh?"}}function h(){const e=document.querySelector("main");if(console.log(e.firstElementChild.className),"grid1-container"===e.firstElementChild.className){const e=new(t()),r=new(t()),n=(new(o())("Farouk"),new(o())("computer"));r.placeShipsComputer();let i=c(),a=[i.find((e=>"CARRIER"===e.name)),i.find((e=>"BATTLESHIP"===e.name)),i.find((e=>"CRUISER"===e.name)),i.find((e=>"SUBMARINE"===e.name)),i.find((e=>"DESTROYER"===e.name))];for(let[t,r]of a.entries())e.placeShip(r.row,r.column,r.axis.toLowerCase(),t);console.log("sheesh"+!e.allSunk&&!r.allSunk),e.allSunk||r.allSunk||(function(e,t,r){const n=document.querySelectorAll(".computer-column");let o=Array.from(n),i=s([10,10]),a=0;for(let e=0;e<10;e++)for(let t=0;t<10;t++)i[e][t]=o[a],a++;for(let n=0;n<10;n++)for(let o=0;o<10;o++)i[n][o].addEventListener("click",(()=>{console.log("executed"),t.receiveAttack(n,o),t.allSunkComputer&&alert(`${localStorage.getItem("name")} has won.`),setTimeout((()=>{r.computerMove(e),e.allSunk&&alert("Computer has won. Hard luck")}),3e3)}))}(e,r,n),console.log("playerMatrix: "+e.boardMatrix),console.log("computerMatrix: "+r.boardMatrix))}}function m(e,t,r){let n=document.getElementById("axis-btn");const o=document.querySelectorAll(".column-placing");let l=Array.from(o),c=s([10,10]),u=0;for(let e=0;e<10;e++)for(let t=0;t<10;t++)c[e][t]=l[u],u++;for(let o=0;o<10;o++)for(let l=0;l<10;l++)c[o][l].addEventListener("mouseenter",(()=>{let r="AXIS: X"===n.textContent?l:o;for(let i=r;i<r+e[t]&&i<10;i++)if("AXIS: X"===n.textContent){if(l>10-e[t]){"rgba(222, 228, 228, 0.7)"===c[o][l].style.background||(c[o][l].style.background="rgba(255, 0, 0, 0.6)"),c[o][l].style.cursor="not-allowed";break}c[o][i].style.background="rgba(222, 228, 228, 0.7)"}else if("AXIS: Y"===n.textContent){if(o>10-e[t]){"rgba(222, 228, 228, 0.7)"===c[o][l].style.background?c[o][l].style.cursor="not-allowed":(c[o][l].style.cursor="not-allowed",c[o][l].style.background="rgba(255, 0, 0, 0.6)");break}c[i][l].style.background="rgba(222, 228, 228, 0.7)"}})),c[o][l].addEventListener("mouseleave",(()=>{let r="AXIS: X"===n.textContent?l:o;for(let i=r;i<r+e[t]&&i<10;i++)"AXIS: X"===n.textContent&&"true"!==c[o][i].dataset.filled?c[o][i].style.background="none":"AXIS: Y"===n.textContent&&"true"!==c[i][l].dataset.filled&&(c[i][l].style.background="none")})),c[o][l].addEventListener("click",(()=>{let s="AXIS: X"===n.textContent?l:o;for(let i=s;i<s+e[t]&&i<10;i++)"AXIS: X"===n.textContent?(c[o][i].style.background="rgba(222, 228, 228, 0.7)",c[o][i].dataset.filled="true"):"AXIS: Y"===n.textContent&&(c[i][l].style.background="rgba(222, 228, 228, 0.7)",c[i][l].dataset.filled="true"),localStorage.setItem(r[t],JSON.stringify([o,l,n.textContent[n.textContent.length-1]]));t++,void 0===r[t]?document.getElementById("placing-desc").textContent=`${localStorage.getItem("name")}, PLACE YOUR ${r[t-1]}`:document.getElementById("placing-desc").textContent=`${localStorage.getItem("name")}, PLACE YOUR ${r[t]}`,t>4&&(a(document.querySelector(".placing-container")),setTimeout((()=>{i(document.querySelector("main"))}),3e3),setTimeout((()=>{d(),h()}),3e3))}))}!function(){const e=document.querySelector(".input-container"),t=document.getElementById("input-field"),r=document.getElementById("start-game"),n=document.querySelector("main");l(e),r.addEventListener("click",(()=>{localStorage.setItem("name",t.value.toUpperCase()),a(e),setTimeout((()=>{i(n)}),3e3),setTimeout((()=>{!function(){let e=["CARRIER","BATTLESHIP","CRUISER","SUBMARINE","DESTROYER"],t=[5,4,3,3,2];const r=document.querySelector("main"),n=document.createElement("div");n.className="placing-container";const o=document.createElement("h1");o.id="placing-desc",o.textContent=`${localStorage.getItem("name")}, PLACE YOUR ${e[0]}`;let i=document.createElement("button");i.id="axis-btn",i.textContent="AXIS: X";const a=document.createElement("div");a.className="grid",n.appendChild(o),n.appendChild(i),n.appendChild(a);for(let e=0;e<100;e++){let e=document.createElement("div");e.className="column-placing",a.appendChild(e)}r.style.visibility="hidden",r.appendChild(n),l(r),function(e,t,r,n){e.addEventListener("click",(()=>{"AXIS: X"===e.textContent?e.textContent="AXIS: Y":"AXIS: Y"===e.textContent&&(e.textContent="AXIS: X")})),m(t,0,n)}(i,t,0,e),m(t,0,e)}()}),3e3)}))}()})()})();